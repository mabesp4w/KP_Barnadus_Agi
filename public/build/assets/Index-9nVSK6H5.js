import{r as x,j as e,b as h,L as u}from"./app-Dooz9cHf.js";import{U as N,S as y}from"./SEO-Bp3mgnZB.js";import{C as n,a as d}from"./Card-B0G3RUpM.js";import{B as S}from"./Badge-BFbo45tX.js";import{S as w}from"./SearchBox-SBa7ncuz.js";import{u as L}from"./useAOS-DdGHiMai.js";import{L as _}from"./index-DfCEJ2B3.js";/* empty css               */import{I as p,S as F}from"./x-DZbbTUlO.js";import"./log-in-Ck1v0gUD.js";import"./createLucideIcon-BmYDW1BA.js";import"./Button-7TB1XEkM.js";import"./search-8YFgCi95.js";function R({galeris:i,sekolahs:r,filters:l}){L();const[j,c]=x.useState(!1),[f,b]=x.useState(0),o=(a,s)=>{try{if(typeof route=="function"){const t=route(a);if(t&&t!=="#")return t}return s||"#"}catch{return s||"#"}},g=i.data.filter(a=>a.file_foto).map(a=>({src:`/storage/${a.file_foto}`,alt:a.judul,title:a.judul,description:a.deskripsi||""})),v=a=>{let s=0;for(let t=0;t<=a;t++)if(i.data[t]?.file_foto){if(t===a)return s;s++}return 0},k=a=>{const s=v(a);b(s),c(!0)},m=[{value:"kegiatan",label:"Kegiatan"},{value:"fasilitas",label:"Fasilitas"},{value:"prestasi",label:"Prestasi"},{value:"lainnya",label:"Lainnya"}];return e.jsxs(N,{title:"Galeri Foto",children:[e.jsx(y,{title:"Galeri Foto",description:"Galeri foto kegiatan, fasilitas, dan prestasi Sekolah Menengah Pertama (SMP) Yayasan Pendidikan Kristen (YPK) di Kota Jayapura. Lihat dokumentasi visual dari berbagai sekolah.",keywords:"Galeri Foto, Foto Sekolah, Kegiatan Sekolah, Fasilitas Sekolah, Prestasi Sekolah, SMP YPK Jayapura"}),e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6 text-center","data-aos":"fade-down",children:[e.jsx("h1",{className:"text-3xl font-bold text-base-content",children:"Galeri Foto"}),e.jsx("p",{className:"mt-2 text-base-content/70",children:"Koleksi foto kegiatan dan aktivitas sekolah"})]}),e.jsx("div",{className:"mb-6","data-aos":"fade-up","data-aos-delay":"100",children:e.jsx(w,{placeholder:"Cari galeri (judul, sekolah, dll)...",searchUrl:o("user.galeri.index","/galeri"),resetUrl:o("user.galeri.index","/galeri"),defaultValue:l?.search||""})}),e.jsx(n,{className:"mb-6","data-aos":"fade-up","data-aos-delay":"150",children:e.jsx(d,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r&&r.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"label-text mb-2 block",children:"Filter Sekolah:"}),e.jsxs("select",{className:"select select-bordered w-full",value:l?.sekolah||"",onChange:a=>{h.get(o("user.galeri.index","/galeri"),{...l,sekolah:a.target.value||null},{preserveState:!0})},children:[e.jsx("option",{value:"",children:"Semua Sekolah"}),r.map(a=>e.jsx("option",{value:a.id,children:a.nm_sekolah},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label-text mb-2 block",children:"Filter Kategori:"}),e.jsxs("select",{className:"select select-bordered w-full",value:l?.kategori||"",onChange:a=>{h.get(o("user.galeri.index","/galeri"),{...l,kategori:a.target.value||null},{preserveState:!0})},children:[e.jsx("option",{value:"",children:"Semua Kategori"}),m.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]})]})]})})}),i.data.length===0?e.jsx(n,{"data-aos":"fade-up","data-aos-delay":"200",children:e.jsx(d,{children:e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(p,{className:"mx-auto h-12 w-12 text-base-content/30"}),e.jsx("p",{className:"mt-4 text-base-content/70",children:l?.search||l?.sekolah||l?.kategori?"Tidak ada galeri yang ditemukan.":"Belum ada galeri foto."})]})})}):e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:i.data.map((a,s)=>a.file_foto?e.jsx(n,{"data-aos":"fade-up","data-aos-delay":200+s*50,children:e.jsxs(d,{className:"p-0",children:[e.jsxs("div",{className:"group relative cursor-pointer overflow-hidden rounded-t-lg",onClick:()=>k(s),children:[e.jsx("img",{src:`/storage/${a.file_foto}`,alt:a.judul,className:"h-64 w-full object-cover transition-transform group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 transition-opacity group-hover:opacity-100",children:e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(p,{className:"h-12 w-12 text-white"})})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[e.jsx("h3",{className:"font-bold",children:a.judul}),a.kategori&&e.jsx(S,{variant:"info",className:"ml-2",children:m.find(t=>t.value===a.kategori)?.label||a.kategori})]}),a.deskripsi&&e.jsx("p",{className:"mb-2 line-clamp-2 text-sm text-base-content/70",children:a.deskripsi}),a.sekolah&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-base-content/70",children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx(u,{href:o("user.sekolah.show",`/sekolah/${a.sekolah.id}`),className:"hover:text-primary hover:underline",children:a.sekolah.nm_sekolah})]})]})]})},a.id):null)}),i.links.length>3&&e.jsx("div",{className:"mt-6 flex justify-center","data-aos":"fade-up",children:e.jsx("div",{className:"join",children:i.links.map((a,s)=>e.jsx(u,{href:a.url||"#",className:`btn join-item btn-sm ${a.active?"btn-active":a.url?"":"btn-disabled"}`,dangerouslySetInnerHTML:{__html:a.label}},s))})})]}),e.jsx(_,{open:j,close:()=>c(!1),index:f,slides:g})]})}export{R as default};
