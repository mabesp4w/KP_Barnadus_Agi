import{r as N,c as K,j as e,L as T}from"./app-Dooz9cHf.js";import{M as $,P,G as L,C as A}from"./MapView-BVhSVFxQ.js";import{B as x}from"./Badge-BFbo45tX.js";import{C as i,b as d,c,a as m}from"./Card-B0G3RUpM.js";import{U as C,S as B}from"./SEO-Bp3mgnZB.js";import{u as I}from"./useAOS-DdGHiMai.js";/* empty css               */import{A as G}from"./arrow-left-Bxvp9jnO.js";import{S as M}from"./x-DZbbTUlO.js";import{M as D}from"./map-pin-DrVUcQE4.js";import{M as U}from"./mail-SFDOxeU-.js";import{G as E}from"./graduation-cap-B4lrwTNV.js";import{c as H}from"./createLucideIcon-BmYDW1BA.js";import"./leaflet-DivYvL9y.js";import"./log-in-Ck1v0gUD.js";/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],R=H("user-check",O);function me({sekolah:s,kepsek:t,galeris:q,sekolahsForMap:g=[],dataSiswa:j=[],dataGtk:h=[]}){I();const[V,z]=N.useState(!1),[J,W]=N.useState(0),f=(a,l)=>{try{if(typeof route=="function"){const n=route(a);if(n&&n!=="#")return n}return l||"#"}catch{return l||"#"}},u=a=>{const l={A:"success",B:"info",C:"warning",Belum:"error"};return e.jsx(x,{variant:l[a]||"error",children:a||"Belum"})},{url:_}=K(),b=typeof window<"u"?window.location.origin:"",v=`${b}${_}`,p=s.foto_utama?`${b}/storage/${s.foto_utama}`:`${b}/images/logo.png`,y=`Informasi lengkap tentang ${s.nm_sekolah} (NPSN: ${s.npsn}). Lokasi: ${s.kelurahan?.nm_kelurahan||""}${s.kelurahan?.kecamatan?`, ${s.kelurahan.kecamatan.nm_kecamatan}`:""}. Akreditasi: ${s.akreditasi||"Belum"}. ${s.ket||""}`,w={"@context":"https://schema.org","@type":"School",name:s.nm_sekolah,identifier:{"@type":"PropertyValue",name:"NPSN",value:s.npsn},address:{"@type":"PostalAddress",streetAddress:s.alamat,addressLocality:s.kelurahan?.nm_kelurahan||"",addressRegion:s.kelurahan?.kecamatan?.nm_kecamatan||"",addressCountry:"ID"},geo:{"@type":"GeoCoordinates",latitude:s.latitude,longitude:s.longitude},telephone:s.no_telp||void 0,email:s.email||void 0,url:s.website||void 0,image:p,...t&&{principal:{"@type":"Person",name:t.nm_kepsek,jobTitle:"Kepala Sekolah"}}};return e.jsxs(C,{title:s.nm_sekolah,children:[e.jsx(B,{title:s.nm_sekolah,description:y,keywords:`${s.nm_sekolah}, NPSN ${s.npsn}, SMP YPK, ${s.kelurahan?.nm_kelurahan||""}, ${s.kelurahan?.kecamatan?.nm_kecamatan||""}, Sekolah Jayapura`,image:p,url:v,type:"article",structuredData:w}),e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6","data-aos":"fade-down",children:e.jsxs(T,{href:f("user.sekolah.index","/sekolah"),className:"inline-flex items-center gap-2 text-sm text-base-content/70 hover:text-base-content",children:[e.jsx(G,{className:"h-4 w-4"}),"Kembali ke Daftar Sekolah"]})}),e.jsx("div",{className:"mb-8","data-aos":"fade-down","data-aos-delay":"100",children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start",children:[s.foto_utama&&e.jsx("div",{className:"h-48 w-full overflow-hidden rounded-lg md:h-64 md:w-96",children:e.jsx("img",{src:`/storage/${s.foto_utama}`,alt:s.nm_sekolah,className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:s.nm_sekolah}),u(s.akreditasi)]}),e.jsxs("div",{className:"space-y-2 text-base-content/70",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5"}),e.jsx("span",{className:"font-mono text-lg",children:s.npsn})]}),s.kelurahan&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),e.jsxs("span",{children:[s.kelurahan.nm_kelurahan,s.kelurahan.kecamatan&&`, ${s.kelurahan.kecamatan.nm_kecamatan}`]})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsxs(i,{"data-aos":"fade-up","data-aos-delay":"200",children:[e.jsx(d,{children:e.jsx(c,{children:"Informasi Sekolah"})}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Alamat"}),e.jsx("p",{className:"text-base-content/70",children:s.alamat||"-"})]}),s.latitude&&s.longitude&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 font-semibold",children:"Lokasi"}),e.jsx($,{sekolahs:g,height:"400px",centerLat:s.latitude,centerLng:s.longitude,zoom:15,highlightedSekolahId:s.id,isActive:s.status_sekolah==="aktif"}),e.jsxs("p",{className:"mt-2 text-xs text-base-content/60",children:[e.jsx("span",{className:"mr-1 inline-block h-3 w-3 animate-pulse rounded-full bg-red-500"}),"Marker merah berkedip menunjukkan lokasi sekolah ini.",e.jsx("span",{className:"mr-1 ml-2 inline-block h-3 w-3 rounded-full bg-blue-500"}),"Marker biru menunjukkan lokasi sekolah lain."]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[s.no_telp&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{children:"Telepon"})]}),e.jsx("p",{className:"text-base-content/70",children:s.no_telp})]}),s.email&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx("span",{children:"Email"})]}),e.jsx("p",{className:"text-base-content/70",children:s.email})]}),s.website&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{children:"Website"})]}),e.jsx("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:s.website})]}),s.thn_berdiri&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx("span",{children:"Tahun Berdiri"})]}),e.jsx("p",{className:"text-base-content/70",children:s.thn_berdiri})]})]}),s.ket&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Keterangan"}),e.jsx("p",{className:"whitespace-pre-line text-base-content/70",children:s.ket})]})]})})]}),j&&j.length>0&&e.jsxs(i,{"data-aos":"fade-up","data-aos-delay":"300",children:[e.jsx(d,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Data Siswa"]})}),e.jsx(m,{children:e.jsx("div",{className:"space-y-4",children:j.map((a,l)=>{const n=(a.jml_siswa_l_7||0)+(a.jml_siswa_p_7||0),r=(a.jml_siswa_l_8||0)+(a.jml_siswa_p_8||0),o=(a.jml_siswa_l_9||0)+(a.jml_siswa_p_9||0),S=n+r+o,k=(a.jml_kelas_7||0)+(a.jml_kelas_8||0)+(a.jml_kelas_9||0);return e.jsxs("div",{className:l>0?"border-t border-base-300 pt-4":"",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsxs("h4",{className:"font-semibold",children:["Tahun Ajaran: ",a.thn_ajaran]}),l===0&&e.jsx(x,{variant:"info",children:"Terbaru"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Kelas 7"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:["Kelas: ",a.jml_kelas_7||0]}),e.jsxs("div",{className:"text-base-content/70",children:["Siswa: ",n," (",a.jml_siswa_l_7||0,"L / ",a.jml_siswa_p_7||0,"P)"]})]})]}),e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Kelas 8"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:["Kelas: ",a.jml_kelas_8||0]}),e.jsxs("div",{className:"text-base-content/70",children:["Siswa: ",r," (",a.jml_siswa_l_8||0,"L / ",a.jml_siswa_p_8||0,"P)"]})]})]}),e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Kelas 9"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:["Kelas: ",a.jml_kelas_9||0]}),e.jsxs("div",{className:"text-base-content/70",children:["Siswa: ",o," (",a.jml_siswa_l_9||0,"L / ",a.jml_siswa_p_9||0,"P)"]})]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between rounded-lg bg-primary/10 p-3",children:[e.jsx("span",{className:"font-semibold",children:"Total"}),e.jsxs("span",{className:"text-lg font-bold text-primary",children:[k," Kelas â€¢ ",S," Siswa"]})]}),a.ket&&e.jsxs("div",{className:"mt-2 text-sm text-base-content/70",children:[e.jsx("strong",{children:"Keterangan:"})," ",a.ket]})]},a.id)})})})]}),h&&h.length>0&&e.jsxs(i,{"data-aos":"fade-up","data-aos-delay":"400",children:[e.jsx(d,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5"}),"Data GTK (Guru dan Tenaga Kependidikan)"]})}),e.jsx(m,{children:e.jsx("div",{className:"space-y-4",children:h.map((a,l)=>{const n=(a.jml_guru_pns||0)+(a.jml_guru_honor||0)+(a.jml_guru_kontrak||0),r=(a.jml_tendik_pns||0)+(a.jml_tendik_honor||0)+(a.jml_tendik_kontrak||0),o=n+r;return e.jsxs("div",{className:l>0?"border-t border-base-300 pt-4":"",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsxs("h4",{className:"font-semibold",children:["Tahun Ajaran: ",a.thn_ajaran]}),l===0&&e.jsx(x,{variant:"info",children:"Terbaru"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"mb-2 font-semibold text-primary",children:"Guru"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"PNS"}),e.jsx("div",{className:"text-lg font-bold",children:a.jml_guru_pns||0})]}),e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"Honor"}),e.jsx("div",{className:"text-lg font-bold",children:a.jml_guru_honor||0})]}),e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"Kontrak"}),e.jsx("div",{className:"text-lg font-bold",children:a.jml_guru_kontrak||0})]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 sm:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"S1"}),e.jsx("div",{className:"text-lg font-bold",children:a.jml_guru_s1||0})]}),e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"S2"}),e.jsx("div",{className:"text-lg font-bold",children:a.jml_guru_s2||0})]}),e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"Bersertifikasi"}),e.jsx("div",{className:"text-lg font-bold",children:a.jml_guru_sertifikasi||0})]})]}),e.jsxs("div",{className:"mt-3 rounded-lg bg-primary/10 p-3",children:[e.jsx("span",{className:"font-semibold",children:"Total Guru: "}),e.jsx("span",{className:"text-lg font-bold text-primary",children:n})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"mb-2 font-semibold text-primary",children:"Tenaga Kependidikan"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"PNS"}),e.jsx("div",{className:"text-lg font-bold",children:a.jml_tendik_pns||0})]}),e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"Honor"}),e.jsx("div",{className:"text-lg font-bold",children:a.jml_tendik_honor||0})]}),e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"Kontrak"}),e.jsx("div",{className:"text-lg font-bold",children:a.jml_tendik_kontrak||0})]})]}),e.jsxs("div",{className:"mt-3 rounded-lg bg-primary/10 p-3",children:[e.jsx("span",{className:"font-semibold",children:"Total Tendik: "}),e.jsx("span",{className:"text-lg font-bold text-primary",children:r})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-lg bg-success/10 p-3",children:[e.jsx("span",{className:"font-semibold",children:"Total GTK"}),e.jsx("span",{className:"text-lg font-bold text-success",children:o})]}),a.ket&&e.jsxs("div",{className:"mt-2 text-sm text-base-content/70",children:[e.jsx("strong",{children:"Keterangan:"})," ",a.ket]})]},a.id)})})})]})]}),e.jsxs("div",{className:"space-y-6",children:[t&&e.jsxs(i,{"data-aos":"fade-up","data-aos-delay":"400",children:[e.jsx(d,{children:e.jsx(c,{children:"Kepala Sekolah"})}),e.jsx(m,{children:e.jsxs("div",{className:"text-center",children:[t.foto&&e.jsx("div",{className:"mx-auto mb-4 h-24 w-24 overflow-hidden rounded-full",children:e.jsx("img",{src:`/storage/${t.foto}`,alt:t.nm_kepsek,className:"h-full w-full object-cover"})}),e.jsx("h3",{className:"font-bold",children:t.nm_kepsek}),t.nip&&e.jsxs("p",{className:"text-sm text-base-content/70",children:["NIP: ",t.nip]}),t.pendidikan_terakhir&&e.jsx("p",{className:"text-sm text-base-content/70",children:t.pendidikan_terakhir})]})})]}),e.jsxs(i,{"data-aos":"fade-up","data-aos-delay":"500",children:[e.jsx(d,{children:e.jsx(c,{children:"Informasi Tambahan"})}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Status"}),e.jsx(x,{variant:s.status_sekolah==="aktif"?"success":"error",children:s.status_sekolah==="aktif"?"Aktif":"Tidak Aktif"})]}),s.akreditasi&&s.akreditasi!=="Belum"&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Akreditasi"}),u(s.akreditasi),s.tgl_akreditasi&&e.jsx("div",{className:"mt-1 text-xs text-base-content/70",children:new Date(s.tgl_akreditasi).toLocaleDateString("id-ID")})]}),s.latitude&&s.longitude&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Koordinat"}),e.jsxs("div",{className:"text-xs text-base-content/70",children:[s.latitude,", ",s.longitude]})]})]})})]})]})]})]})]})}export{me as default};
